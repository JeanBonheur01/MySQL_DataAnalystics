# Pizza Data Control

## Table of Contents

- [Problem Statement and Overall Objectives](#problem-statement-and-overall-objectives)
- [Data Sources](#data-sources)
- [Tools](#tools)
- [Build a SQL database/schema](#build-a-sql-datanaseschema)
- [Data Cleaning/Preparation](#data-cleaningpreparation)
- [Exploratory Data Analysis](#exploratory-data-analysis)
- [Data Analysis in MySQL](#data-analysis-in-mysql)
- [Data Analysis in Data Studio](#data-analysis-in-data-studio)
- [Results/Findings](#resultsfindings)
- [Recommendations](#recommendations)
- [Limitations](#limitations)
- [References](#references) 

### Problem Statement and Overall Objectives

The entrepreneur JB is opening a new pizzeria to sell and deliver different sorts of pizza. The company wants a relational database to enable the capture and storage of various important data generated by the business. 
This data analysis project aims to provide more intelligent insights into the business, having control over the following areas:  

   - Orders
   - Stock control
   - Staff

### Data Sources 

Pizzeria Data: The primary data used for this analysis are the CSV files within the folder "Pizza_data_source", containing detailed information about each table, which were used and manipulated in MySQL. 

### Tools

   - QuickDBD - [Find here](https://www.quickdatabasediagrams.com/)
   - MySQL
   - Data Studio - [Find here](https://lookerstudio.google.com/navigation/reporting)

### Build a SQL database/schema

After considering the business objectives, a database schema was created following normalization priciples to avoid redundancy and make the database more practical and efficient. 
Here is the final schema that was built: 

   ![QuickDBD-JB's Pizza](https://github.com/JeanBonheur01/MySQL_DataAnalystics/assets/131664311/876bbd0e-8ab9-49a5-a78b-a1ed11b1efdc)

---
### Data Cleaning/Preparation

In the initial data preparation phase, the following tasks were performed: 
1. Data loading and inspection
2. Handling missing values
3. Data cleaning and formatting.
4. Uploading database schema and data in MySQL

### Exploratory Data Analysis

EDA involved exploring the Pizzeria's data to answer key questions, such as: 

- What different information can we gather from order activity?
   - total orders, orders by hour, orders by address, top-selling items, etc.
- What ingredients go into each pizza?  
- What is their quantity based on the size of the pizza? 
- What is the existing stock level?
- Which staff members are working and when?
- Based on the staff salary information, what is the cost of each pizza?
   - Ingredients + chefs + delivery cost
 
Note: In this project, it is assumed that the lead time for delivery by suppliers is the same for all ingredients. 

---
### Data analysis in MySQL

Since the data needed for visualization resides across different tables in the database, and based on the project's objectives, here are some main queries that were coded to create more insightful vizualisations in different tables: 

1. Orders data

This has been achieved by joining the item and address data into the orders table

<img width="1440" alt="Orders_activity" src="https://github.com/JeanBonheur01/MySQL_DataAnalystics/assets/131664311/3ca460e9-d042-4946-9d06-7fd6438b5660">

2. Inventory Management

Firstly, I have calculated how much inventory the pizzeria has used and which ingredients need to be reordered. Secondly, I have calculated the cost of making each pizza based on the cost of the ingredients, so the pizzeria can monitor pricing and profit and lose (P&L). 

The information needed: 
- Total quantity by ingredient
- Total cost of ingredients
- Calculated cost of Pizza
- Percentage of remaining stock by ingredient
- List of ingredients to reorder based on remaining inventory

The first three needed pieces of information above have been fulfilled in the following SQL query, where a subquery was used to make it practical to achieve: 

```sql

select 
s1.item_name, s1.ing_id, s1.ing_name, s1.ing_weight, 
s1.ing_price, s1.order_quantity, s1.recipe_quantity, 
s1.order_quantity*s1.recipe_quantity as ordered_weight, 
s1.ing_price/s1.ing_weight as unit_cost, 
(s1.order_quantity*s1.recipe_quantity)*(s1.ing_price/s1.ing_weight) as ingredient_cost
from (select 
	o.item_id,
    i.sku,
    i.item_name,
    r.ing_id, 
    ing.ing_name, 
    r.quantity as recipe_quantity, 
	sum(o.quantity) as order_quantity, 
    ing.ing_weight, ing.ing_price
from 
	orders o
left join 
	items i on o.item_id = i.item_id
left join
	recipe r on i.sku = r.recipe_id
left join
	ingredient ing on ing.ing_id = r.ing_id
group by 
	o.item_id, i.sku, i.item_name, 
    r.ing_id, r.quantity, ing.ing_name, 
    ing.ing_weight, ing.ing_price) s1;
```
<img width="1440" alt="Cost_ingredients" src="https://github.com/JeanBonheur01/MySQL_DataAnalystics/assets/131664311/312c6c7b-6b4d-43d6-a75f-2faa3e4f3013">

The last two needed pieces of information above have been fulfilled in the following SQL query, where a "view" was created to make it more easier to achieve: 

<img width="1440" alt="Remaining_inventory" src="https://github.com/JeanBonheur01/MySQL_DataAnalystics/assets/131664311/4a8acb28-7bc1-4dc8-a784-f89286595369">

3. Staff

To address questions regarding staff working hours and their salary for each shift, the following SQL query was created: 

<img width="1440" alt="Staff_cost" src="https://github.com/JeanBonheur01/MySQL_DataAnalystics/assets/131664311/8233d0f6-ac28-4926-bcf2-6180b8b337f2">

---
### Data Analysis in Data Studio
### Results/Findings
### Recommendations
### Limitations
### References

üíª üñ±Ô∏è ‚å®Ô∏è üñ®Ô∏è üíª
